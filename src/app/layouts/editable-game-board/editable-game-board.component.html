<div class="jeopardy-container h-full p-4">
  <div class="jeopardy-board h-full flex flex-col">
    <div class="categories-row grid grid-cols-5 gap-1 mb-1">
      @for (category of categories(); track $index) {
        <div class="category-cell bg-blue-900 text-white p-4">
          <app-editable-category
            [categoryName]="category.name"
            (categoryNameChange)="updateCategoryName($index, $event)"
          />
        </div>
      }
    </div>

    <div class="questions-grid flex-grow grid grid-rows-5">
      @for (value of [100, 200, 300, 400, 500]; track value) {
        <div class="questions-row grid grid-cols-5">
          @for (category of categories(); track category.name; let i = $index) {
            @if (getQuestionForCategoryAndValue(category, value); as question) {
              <div
                class="question-cell editor-cell"
                [class.empty-cell]="!question.question || !question.answer"
                (click)="onQuestionClick(category, question)"
              >
                <div class="cell-value">{{ value }}</div>
                <div class="cell-content">
                  <div class="question-preview">
                    {{ question.question | mediaPreview | truncateText: 50 }}
                  </div>
                  <div class="divider"></div>
                  <div class="answer-preview">
                    {{ question.answer | mediaPreview | truncateText: 50 }}
                  </div>
                </div>
              </div>
            } @else {
              <div class="question-cell editor-cell empty-cell">
                <div class="cell-value">{{ value }}</div>
              </div>
            }
          }
        </div>
      }
    </div>
  </div>
</div>
